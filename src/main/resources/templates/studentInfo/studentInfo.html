<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layout/basic}">

<th:block layout:fragment="title">
	<title>YU My Information</title>
</th:block>

<th:block layout:fragment="article">
    <div id="article">
      <div class="container-fluid">
        <div class="card text-center mb-3">
          <div class="card-header">
            <ul class="nav nav-tabs card-header-tabs">
              <li class="nav-item">
                <a class="nav-link active" href="#myInfo" data-toggle="tab">내정보</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#history" data-toggle="tab">활동기록</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#myArticle" data-toggle="tab">내 글 보기</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#center" data-toggle="tab">고객센터</a>
              </li>
            </ul>
          </div>
          <div class="tab-content">
            <div class="tab-pane active" id="myInfo">
              <!--내정보-->
              <div class="card-body">
                <div class="row">
                  <div class="col-md-2">
                    <img src="images/증명사진.jpg" class="card-img">
                  </div>
                  <div class="col-md-10">
                    <p class="card-text text-left">Lv.7 (640/700)</p>
                    <p class="card-text text-left">닉네임: [[${studentInfo.getNickname()}]]</p>
                    <p class="card-text text-left">학년: [[${studentInfo.getSyear()}]]</p>
                    <p class="card-text text-left">학과: [[${studentInfo.getDepartment()}]]</p>
                    <p class="card-text text-left">이메일: [[${studentInfo.getEmail()}]]</p>
                    <p class="card-text text-left">포인트: [[${studentInfo.getPoint()}]]</p>
                    <p class="card-text text-left">비밀번호 변경: <a style="text-decoration:underline" href="https://adm.yu.ac.kr/com/com/port/plet/findPortPwdInitFormN_L_S.do">yu.ac.kr//PasswordChange</a></p>
                  </div>
                </div>
              </div>
              <a href="#" class="btn btn-primary float-right">수정하기</a>
            </div>
            <div class="tab-pane" id="history">
              <!--활동기록-->
              <div class="card-body text-left">
                <div class="row">
                  <div class="col-md-6">
                    <p class="card-text">최초 로그인: [[${studentInfo.getFirst_login()}]]</p>
                    <p class="card-text">최초 게시글: 2020.06.14 17:30:47</p>
                    <p class="card-text">최초 댓글: 2020.06.14 17:45:12</p>
                    <p class="card-text">최근 로그인 기록: 2020.06.17 22:15:14</p>
                  </div>
                  <div class="col-md-6">
                    <p class="card-text">좋아요 받은 수: 564</p>
                    <p class="card-text">내 댓글 수: 12</p>
                    <p class="card-text">내 게시글 수: 1</p>
                    <p class="card-text">로그인 횟수: 7</p>
                  </div>
                </div>
                <br><br>
                <div class="row row-cols-1">
                  <p>
                  <div class="col">
                    <p class="card-text text-left h4">검색기록</p>
                    <div class="card">
                      <div class="card-body">
                        <div class="row">
                          <div class="col"><a href="#" class="text-secondary"><u>영남대</u></a></div>
                          <div class="col"><a href="#" class="text-secondary"><u>휴강</u></a></div>
                          <div class="col"><a href="#" class="text-secondary"><u>중간고사</u></a></div>
                          <div class="col"><a href="#" class="text-secondary"><u>코로나</u></a></div>
                        </div>
                      </div>
                    </div>
                  </div>
                  </p>

                  <p>
                  <div class="col">
                    <p class="card-text text-left h4">내가 즐겨찾는 게시판</p>
                    <div class="card">
                      <div class="card-body">
                        <div class="row">
                          <div class="col"><a href="#" class="text-secondary"><u>자유게시판</u></a></div>
                          <div class="col"><a href="#" class="text-secondary"><u>중고게시판</u></a></div>
                          <div class="col"><a href="#" class="text-secondary"><u>게임게시판</u></a></div>
                        </div>
                      </div>
                    </div>
                  </div>
                  </p>
                </div>
              </div>
            </div>
            <div class="tab-pane" id="myArticle">
              <!--내 글보기-->
              <div class="card-body text-left">
                <div class="row row-cols-1">
                  <div class="col">
                    <table class="table table-hover">
                      <caption class="myArticleTableCaption h4">내가 쓴 게시물
                          <div class="float-right" style="margin-bottom:10px;">
                            <button type="button" class="btn-blue" onclick="location.href='/yu/studentInfo/studentMyBoardList'">전체보기</button>
                          </div>
                        </caption>
                      <thead>
                        <tr>
                          <th style="text-align:center">제목</th>
                          <th style="text-align:center">작성일</th>
                          <th style="text-align:center">위치</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr th:each="board :${myBoardList}" th:if="${board.getCheck_delete()} != 'T'">
                          <td style="width:60%"><a th:href="@{'/yu/board/boardView/'+${board.getBno()}}" th:text="${board.getTitle()}"></a></td>
                          <td style="width:15%; text-align:center" th:text="${board.getRegister_date()}"></td>
                          <td style="width:25%; text-align:center" th:text="${board.getBoardtype()}"></td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                  <div class="col">
                    <table class="table table-hover">
                        <caption class="myArticleTableCaption h4">내가 쓴 댓글
                          <div class="float-right" style="margin-bottom:10px;">
                            <button type="button" class="btn-blue" onclick="location.href='/yu/studentInfo/studentMyCommentList'">전체보기</button>
                          </div>
                        </caption>
                      <thead>
                        <tr>
                          <th style="text-align:center">내용</th>
                          <th style="text-align:center">작성일</th>
                          <th style="text-align:center">위치</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr th:each="comment :${myCommentList}" th:if="${comment.getCheck_delete()} != 'T'">
                          <td style="width:60%"><a th:href="@{'/yu/board/boardView/'+${comment.getBno()}}" th:text="${comment.getContent()}"></a></td>
                          <td style="width:15%; text-align:center" th:text="${comment.getRegister_date()}"></td>
                          <td style="width:25%; text-align:center" th:text="${comment.getBoardtype()}"></td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
            <div class="tab-pane" id="center">
              <!--고객센터-->
              <div class="card-body text-left">
                <div class="row row-cols-1">
                  <div class="col">
                    <table class="table table-hover">
                      <caption class="myArticleTableCaption h4">자주 묻는 질문</caption>
                      <tbody>
                        <tr>
                          <td>ㅁㄴㅇㄹ</td>
                        </tr>
                        <tr>
                          <td>ㅁㄴㅇㄹ</td>
                        </tr>
                        <tr>
                          <td>ㅁㄴㅇㄹ</td>
                        </tr>
                        <tr>
                          <td>ㅁㄴㅇㄹ</td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
                <br><br>
                <h4>문의하기</h4>
                <br>
                <div class="row">
                  <div class="col-md-6">
                    <p class="card-text">문의 이메일: <a href="mailto:qwer@asdf.zxc"><u>qwer@asdf.zxc</u></a></p>
                  </div>
                  <div class="col-md-6">
                    <p class="card-text">문의 번호: 010-1234-1234</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>


      </div>
    </div>
</th:block>

  <footer class="bg-dark mt-3 p-3 text-center" style="color: #FFFFFF;">
    <div class="row">
      <div class="col-2"><a href="#"></a>이용약관</div>
      <div class="col-2"><a href="#"></a>개인정보처리방침</div>
      <div class="col-2"><a href="#"></a>커뮤니티이용규칙</div>
      <div class="col-2"><a href="#"></a>공지사항</div>
      <div class="col-2"><a href="#"></a>문의하기</div>
      <div class="col-2">(주)나만따라YU</div>
    </div>
  </footer>

  <script>
    $('a[data-toggle="tab"]').click(function(e) {
      e.preventDefault();
      $(this).tab('show');
    });

    $('a[data-toggle="tab"]').on("shown.bs.tab", function(e) {
      var id = $(e.target).attr("href");
      localStorage.setItem('selectedTab', id)
    });

    var selectedTab = localStorage.getItem('selectedTab');
    if (selectedTab != null) {
      $('a[data-toggle="tab"][href="' + selectedTab + '"]').tab('show');
    }
  </script>
</body>

</html>
